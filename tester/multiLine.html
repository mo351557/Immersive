<!DOCTYPE html>
<html lang="en">

<head>


    <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">

    <link href="http://getbootstrap.com/examples/justified-nav/justified-nav.css" rel="stylesheet">

    <style>
        .axis path {
            fill: none;
            stroke: #777;
            shape-rendering: crispEdges;
        }

        .axis text {
            font-family: Lato;
            font-size: 13px;
        }
    </style>
    <script>
    </script>

</head>

<body>

    <div class="container">

        <div class="jumbotron">

            <svg id="visualisation" width="1000" height="500"></svg>
            <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
            <script>
                var color = d3.scale.ordinal()
                    .range(["blue", "green"]);

                function InitChart() {
                    var data = [{
                        "year": "1960",
                        "birth": "42.107",
                        "death": "22.423"
                    }, {
                        "year": "1961",
                        "birth": "41.865",
                        "death": "21.877"
                    }, {
                        "year": "1962",
                        "birth": "41.602",
                        "death": "21.337"
                    }, {
                        "year": "1963",
                        "birth": "41.317",
                        "death": "20.8"
                    }, {
                        "year": "1964",
                        "birth": "41.013",
                        "death": "20.267"
                    }, {
                        "year": "1965",
                        "birth": "40.696",
                        "death": "19.739"
                    }, {
                        "year": "1966",
                        "birth": "40.374",
                        "death": "19.217"
                    }, {
                        "year": "1967",
                        "birth": "40.057",
                        "death": "18.703"
                    }, {
                        "year": "1968",
                        "birth": "39.747",
                        "death": "18.199"
                    }, {
                        "year": "1969",
                        "birth": "39.447",
                        "death": "17.706"
                    }, {
                        "year": "1970",
                        "birth": "39.15",
                        "death": "17.224"
                    }, {
                        "year": "1971",
                        "birth": "38.847",
                        "death": "16.752"
                    }, {
                        "year": "1972",
                        "birth": "38.529",
                        "death": "16.29"
                    }, {
                        "year": "1973",
                        "birth": "38.193",
                        "death": "15.84"
                    }, {
                        "year": "1974",
                        "birth": "37.842",
                        "death": "15.403"
                    }, {
                        "year": "1975",
                        "birth": "37.491",
                        "death": "14.985"
                    }, {
                        "year": "1976",
                        "birth": "37.156",
                        "death": "14.59"
                    }, {
                        "year": "1977",
                        "birth": "36.852",
                        "death": "14.222"
                    }, {
                        "year": "1978",
                        "birth": "36.58",
                        "death": "13.881"
                    }, {
                        "year": "1979",
                        "birth": "36.334",
                        "death": "13.569"
                    }, {
                        "year": "1980",
                        "birth": "36.098",
                        "death": "13.283"
                    }, {
                        "year": "1981",
                        "birth": "35.85",
                        "death": "13.023"
                    }, {
                        "year": "1982",
                        "birth": "35.565",
                        "death": "12.783"
                    }, {
                        "year": "1983",
                        "birth": "35.227",
                        "death": "12.556"
                    }, {
                        "year": "1984",
                        "birth": "34.828",
                        "death": "12.336"
                    }, {
                        "year": "1985",
                        "birth": "34.366",
                        "death": "12.116"
                    }, {
                        "year": "1986",
                        "birth": "33.844",
                        "death": "11.887"
                    }, {
                        "year": "1987",
                        "birth": "33.281",
                        "death": "11.647"
                    }, {
                        "year": "1988",
                        "birth": "32.694",
                        "death": "11.395"
                    }, {
                        "year": "1989",
                        "birth": "32.095",
                        "death": "11.131"
                    }, {
                        "year": "1990",
                        "birth": "31.498",
                        "death": "10.858"
                    }, {
                        "year": "1991",
                        "birth": "30.912",
                        "death": "10.581"
                    }, {
                        "year": "1992",
                        "birth": "30.343",
                        "death": "10.307"
                    }, {
                        "year": "1993",
                        "birth": "29.794",
                        "death": "10.043"
                    }, {
                        "year": "1994",
                        "birth": "29.267",
                        "death": "9.793"
                    }, {
                        "year": "1995",
                        "birth": "28.766",
                        "death": "9.563"
                    }, {
                        "year": "1996",
                        "birth": "28.286",
                        "death": "9.352"
                    }, {
                        "year": "1997",
                        "birth": "27.822",
                        "death": "9.161"
                    }, {
                        "year": "1998",
                        "birth": "27.365",
                        "death": "8.986"
                    }, {
                        "year": "1999",
                        "birth": "26.911",
                        "death": "8.828"
                    }, {
                        "year": "2000",
                        "birth": "26.459",
                        "death": "8.684"
                    }, {
                        "year": "2001",
                        "birth": "26.004",
                        "death": "8.553"
                    }, {
                        "year": "2002",
                        "birth": "25.547",
                        "death": "8.433"
                    }, {
                        "year": "2003",
                        "birth": "25.087",
                        "death": "8.32"
                    }, {
                        "year": "2004",
                        "birth": "24.622",
                        "death": "8.213"
                    }, {
                        "year": "2005",
                        "birth": "24.146",
                        "death": "8.109"
                    }, {
                        "year": "2006",
                        "birth": "23.653",
                        "death": "8.005"
                    }, {
                        "year": "2007",
                        "birth": "23.144",
                        "death": "7.901"
                    }, {
                        "year": "2008",
                        "birth": "22.625",
                        "death": "7.8"
                    }, {
                        "year": "2009",
                        "birth": "22.103",
                        "death": "7.7"
                    }, {
                        "year": "2010",
                        "birth": "21.595",
                        "death": "7.606"
                    }, {
                        "year": "2011",
                        "birth": "21.116",
                        "death": "7.52"
                    }, {
                        "year": "2012",
                        "birth": "20.679",
                        "death": "7.446"
                    }, {
                        "year": "2013",
                        "birth": "20.291",
                        "death": "7.385"
                    }];

                    color.domain(d3.keys(data[0]).filter(function(key) {
                        return key !== "year";
                    }));
                    var vis = d3.select("#visualisation"),
                        WIDTH = 1000,
                        HEIGHT = 500,
                        MARGINS = {
                            top: 20,
                            right: 200,
                            bottom: 20,
                            left: 50
                        },
                        xScale = d3.scale.linear().range([MARGINS.left, WIDTH - MARGINS.right]).domain([1960, 2016]),
                        yScale = d3.scale.linear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, 50]),
                        xAxis = d3.svg.axis()
                        .scale(xScale),
                        yAxis = d3.svg.axis()
                        .scale(yScale)
                        .orient("left");

                    vis.append("svg:g")
                        .attr("class", "x axis")
                        .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                        .call(xAxis);
                    vis.append("svg:g")
                        .attr("class", "y axis")
                        .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                        .call(yAxis);
                    var lineGen = d3.svg.line()
                        .x(function(d) {
                            return xScale(d.year);
                        })
                        .y(function(d) {
                            return yScale(d.birth);
                        })
                        .interpolate("basis");
                    vis.append('svg:path')
                        .attr('d', lineGen(data))
                        .attr('stroke', 'green')
                        .attr('stroke-width', 2)
                        .attr('fill', 'none');
                    var lineGen = d3.svg.line()
                        .x(function(d) {
                            return xScale(d.year);
                        })
                        .y(function(d) {
                            return yScale(d.death);
                        })
                        .interpolate("basis");
                    vis.append('svg:path')
                        .attr('d', lineGen(data))
                        .attr('stroke', 'blue')
                        .attr('stroke-width', 2)
                        .attr('fill', 'none');



                    var legend = vis.selectAll(".legend")
                        .data(color.domain().slice().reverse())
                        .enter().append("g")
                        .attr("class", "legend")
                        .attr("transform", function(d, i) {
                            return "translate(0," + i * 20 + ")";
                        });

                    legend.append("rect")
                        .attr("x", WIDTH - 18)
                        .attr("width", 18)
                        .attr("height", 18)
                        .style("fill", color);

                    legend.append("text")
                        .attr("x", WIDTH - 24)
                        .attr("y", 9)
                        .attr("dy", ".35em")
                        .style("text-anchor", "end")
                        .text(function(d) {
                            return d;
                        });


                }
                InitChart();
            </script>
        </div>

    </div>

</body>

</html>
